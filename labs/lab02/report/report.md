---
## Front matter
title: "Отчет по лабораторной работе №2"
subtitle: "Дисциплина: Информационная безопасность"
author: "Выполнила: Афтаева Ксения Васильевна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Получение практических навыков работы в консоли с атрибутами файлов, закрепление теоретических основ дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux.

# Задачи

1. Создать нового пользователя и получить информацию о его uid, gid и др.
2. Проверить права доступа на некоторых файлах и директориях.
3. Заполнить таблицу «Установленные права и разрешённые действия», выполняя действия от имени владельца директории.
4. На основании заполненной таблицы определите те или иные минимально необходимые права для выполнения операций внутри директории.

# Теоретическое введение

Изначально каждый файл имел три параметра доступа [@key-1]:

 - **чтение** - разрешает прочитать содержимое файла или каталога (r);

 - **запись** - разрешает записывать новые данные в файл или изменять существующие, а также позволяет создавать и изменять файлы и каталоги (w);

 - **выполнение** - разрешает выполнять, как программу, и входить в директорию (x).

Каждый файл имеет три категории пользователей, для которых можно устанавливать различные сочетания прав доступа:

 - **владелец** - набор прав для владельца файла, пользователя, который его создал или сейчас установлен его владельцем;

 - **группа** - любая группа пользователей, существующая в системе и привязанная к файлу;

 - **остальные** - все пользователи, кроме владельца и пользователей, входящих в группу файла.

Информация о правах доступа к файлу представлена в виде **10** символов:

Первый символ определяет тип файла. Если первый символ ```-```, то это обычный файл. Если первый символ d, то это каталог.
Следующие 3 символа показывают разрешения для владельца. Буква означает наличие разрешения, а прочерк — его отсутствие.
Следующие 3 символа показывают разрешения для группы. Порядок записи разрешений всегда такой: чтение, запись, выполнение. 
Последние 3 символа показывают разрешения для всех остальных пользователей[@key-2]. 

Помимо буквенного указания атрибутов файлов, в Linux применяется также другой, более удобный метод обозначения прав доступа, при котором права обозначаются восьмеричным числом. Оно состоит из трех цифр, первая из которых обозначает право доступа для владельца файла, вторая – для группы владельца и третья – для всех остальных. Составить такое число несложно. Для каждого типа пользователей (владелец, группа владельца и другие пользователи) создается правило доступа в виде rwx, на месте каждого прочерка ставится ноль, а в остальных случаях – единица. Далее это переводится из двоичной системы счисления в восьмеричную [@key-3]. 

# Выполнение лабораторной работы

1. В установленной при выполнении предыдущей лабораторной работы
операционной системе создала учётную запись пользователя guest (используя учётную запись администратора) с помощью команды ```sudo useradd guest``` (рис. @fig:001).

2. Задала пароль для пользователя guest (используя учётную запись администратора) с помощью команды ```sudo passwd guest``` (рис. @fig:001).

3. Вошла в систему от имени пользователя guest, введя ```su - guest``` (рис. @fig:001).

4. Определила директорию, в которой нахожусь, командой ```pwd``` (рис. @fig:001). Видим, что мы находимся в директории /home/guest. Это домашняя директория пользователя guest. Видим, что в приглашении командной строки также значится пользователь guest. Также в приглашении видим знак ```~```, что означает, что мы находимся в домашней диретории пользователя.

5. Уточнила имя моего пользователя командой ```whoami``` (рис. @fig:001).

6. Уточнила имя моего пользователя, его группу, а также группы, куда входит пользователь, командой ```id``` (рис. @fig:001). Ввела команду ```groups``` (рис. @fig:001). Видим, что первая команда вывела реальный идентификатор пользователя (1001), реальный идентификатор основной группы пользователя (1001), идентификаторы дополнительных групп (1001), к которым принадлежит пользователь. Вторая команда вывела только список групп, к которым принадлежит пользователь. В нашем случае это только группа guest.

7. Полученная информация об имени пользователя совпадает с именем в приглашении командной строки.

![Учетная запись guest](image/1.png){#fig:001 width=70%}

8. Просмотрела файл /etc/passwd командой ```cat /etc/passwd``` (рис. @fig:002). Нашла в нём свою учётную запись (последняя). Видим, что uid пользователя - 1001, gid пользователя - 1001. Данные значения совпадают с теми, что были получены в предыдущих пунктах.

![Файл etc/passwd](image/2.png){#fig:002 width=70%}

9. Определила существующие в системе директории командой ```ls -l /home/``` (рис. @fig:003). Нам удалось получить список поддиректорий директории /home - kvaftaeva и guest. Видим, что на директориях установлено разрешение на чтение, изменение директории и на вход в нее, но только для владельцев этих директорий. 

10. Проверила, какие расширенные атрибуты установлены на поддиректориях, находящихся в директории /home, командой ```lsattr /home``` (рис. @fig:003). Мы видим только расширенные атрибуты той директории, которая относится к нашему пользователю. Однако у нас расширенных атрибутов нет. Расширенные атрибуты директории другого пользователя мы посмотреть не можем.

11. Создала в домашней директории поддиректорию dir1 командой ```mkdir dir1``` (рис. @fig:003). Определила командами ```ls -l /home/guest``` и ```lsattr /home/guest```, какие права доступа и расширенные атрибуты были выставлены на директорию dir1. Видим, что для владельца установлены разрешения на чтение, изменение директории и на вход в нее. Для группы и остальных пользователей установлены права на чтение и вход в директорию. Расширенных арибутов не установлено.

12. Сняла с директории dir1 все атрибуты командой ```chmod 000 dir1``` и проверила правильность выполнения командой ```ls -l``` (рис. @fig:003). Видим, что теперь у всех пользователей нет права на чтение, изменение директории и вход в нее. 

13. Попытайталась создать в директории dir1 файл file1 командой ```echo "test" > /home/guest/dir1/file1``` (рис. @fig:003).
Мы получили отказ в выполнении операции по созданию файла, так как в правах доступа у данной директории нет разрешения на создание файлов для всех пользователей.
Файл не был создан. Ввела команду ```ls -l /home/guest/dir1``` (рис. @fig:003), однако так как прав на чтение данного каталога у нас нет, посмотреть содержимое не получилось. Посмотрела содержимое не из терминала (рис. @fig:004). Видим, что файла действительно нет и директория пустая.

![Права доступа](image/3.png){#fig:003 width=70%}

![Проверка директории](image/4.png){#fig:004 width=70%}

14. Выполняя действия от имени владельца директории (рис. @fig:005) заполнила таблицу "Установленые права и разрешенные действия". Для удобства восприятия разделила на 8 таблиц (таблицы @tbl:01 - @tbl:08) для каждого из вариантов прав для директории. 

![Проверка прав доступа для таблицы](image/5.png){#fig:005 width=70%}

: Права директории 000 {#tbl:01}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |-    |-    |-    |-    |-    |-    |
| Чтение файла                    |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена директории                |-    |-    |-    |-    |-    |-    |-    |-    |
| Просмотр файлов в директории    |-    |-    |-    |-    |-    |-    |-    |-    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |-    |-    |-    |-    |

: Права директории 100 {#tbl:02}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |+    |+    |-    |-    |+    |+    |
| Чтение файла                    |-    |-    |-    |-    |+    |+    |+    |+    |
| Смена директории                |+    |+    |+    |+    |+    |+    |+    |+    |
| Просмотр файлов в директории    |-    |-    |-    |-    |-    |-    |-    |-    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |+    |+    |+    |+    |

: Права директории 200 {#tbl:03}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |-    |-    |-    |-    |-    |-    |
| Чтение файла                    |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена директории                |-    |-    |-    |-    |-    |-    |-    |-    |
| Просмотр файлов в директории    |-    |-    |-    |-    |-    |-    |-    |-    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |-    |-    |-    |-    |

: Права директории 300 {#tbl:04}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |+    |+    |+    |+    |+    |+    |+    |+    |
| Создание файла                  |+    |+    |+    |+    |+    |+    |+    |+    |
| Запись в файл                   |-    |-    |+    |+    |-    |-    |+    |+    |
| Чтение файла                    |-    |-    |-    |-    |+    |+    |+    |+    |
| Смена директории                |+    |+    |+    |+    |+    |+    |+    |+    |
| Просмотр файлов в директории    |-    |-    |-    |-    |-    |-    |-    |-    |
| Переименование файла            |+    |+    |+    |+    |+    |+    |+    |+    |
| Смена атрибутов файла           |-    |-    |-    |-    |+    |+    |+    |+    |

: Права директории 400 {#tbl:05}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |-    |-    |-    |-    |-    |-    |
| Чтение файла                    |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена директории                |-    |-    |-    |-    |-    |-    |-    |-    |
| Просмотр файлов в директории    |+    |+    |+    |+    |+    |+    |+    |+    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |-    |-    |-    |-    |

: Права директории 500 {#tbl:06}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |+    |+    |-    |-    |+    |+    |
| Чтение файла                    |-    |-    |-    |-    |+    |+    |+    |+    |
| Смена директории                |+    |+    |+    |+    |+    |+    |+    |+    |
| Просмотр файлов в директории    |+    |+    |+    |+    |+    |+    |+    |+    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |+    |+    |+    |+    |

: Права директории 600 {#tbl:07}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Создание файла                  |-    |-    |-    |-    |-    |-    |-    |-    |
| Запись в файл                   |-    |-    |-    |-    |-    |-    |-    |-    |
| Чтение файла                    |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена директории                |-    |-    |-    |-    |-    |-    |-    |-    |
| Просмотр файлов в директории    |+    |+    |+    |+    |+    |+    |+    |+    |
| Переименование файла            |-    |-    |-    |-    |-    |-    |-    |-    |
| Смена атрибутов файла           |-    |-    |-    |-    |-    |-    |-    |-    |

: Права директории 700 {#tbl:08}

| Права файла                     | 000 | 100 | 200 | 300 | 400 | 500 | 600 | 700 |   
|---------------------------------|-----|-----|-----|-----|-----|-----|-----|-----|
| Создание файла                  |+    |+    |+    |+    |+    |+    |+    |+    |
| Создание файла                  |+    |+    |+    |+    |+    |+    |+    |+    |
| Запись в файл                   |-    |-    |+    |+    |-    |-    |+    |+    |
| Чтение файла                    |-    |-    |-    |-    |+    |+    |+    |+    |
| Смена директории                |+    |+    |+    |+    |+    |+    |+    |+    |
| Просмотр файлов в директории    |+    |+    |+    |+    |+    |+    |+    |+    |
| Переименование файла            |+    |+    |+    |+    |+    |+    |+    |+    |
| Смена атрибутов файла           |-    |-    |-    |-    |+    |+    |+    |+    |

15. На основании заполненных таблиц определила те или иные минимально необходимые права для выполнения операций внутри директории (таблица @tbl:09)

: Минимальные права для совершения операций {#tbl:09}

|Операция                |Минимальные права на директорию|Минимальные права на файл|
|------------------------|-------------------------------|-------------------------|
|Создание файла          |300                            |000                      |
|Удаление файла          |300                            |000                      |
|Чтение файла            |100                            |400                      |
|Запись в файл           |100                            |200                      |
|Переименование файла    |300                            |000                      |
|Создание поддиректории  |300                            |000                      |
|Удаление поддиректории  |300                            |000                      |

# Выводы

Я получила практические навыки работы в консоли с атрибутами файлов, закрепила теоретические основы дискреционного разграничения доступа в современных системах с открытым кодом на базе ОС Linux. 

# Список литературы{.unnumbered}

::: {#refs}
:::
